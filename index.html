<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Pixxle — setup</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="topbar" class="window topbar">
    <div class="left">
        <label class="tool-label">Size
            <input id="toolSize" type="range" min="1" max="16" value="1" style="width: 80px;">
        </label>
        <label class="tool-label">Shape
            <select id="toolShape">
                <option value="square">Square</option>
                <option value="circle">Circle</option>
            </select>
        </label>
    </div>

    <div class="center">
        <span id="canvasSize" class="doc-item">Canvas: — × —</span>
        <span class="doc-item">Zoom: <span id="canvasScale">1x</span></span>
    </div>

    <div class="right">
        <!-- Background controls moved to topbar -->
        <label class="bg-label">Background color
            <input id="bgColor" type="color" value="#ffffff">
        </label>
        <label class="bg-label"><input id="bgTransparent" type="checkbox"> Transparent</label>

        <button id="clear">Clear</button>
    </div>
</div>

<div id="leftPane" class="left-pane">
    <aside id="tools" class="window tools" role="toolbar" aria-label="Tools">
        <button id="pencilBtn" class="tool-btn active" data-tool="pencil" title="Pencil">
            <img class="tool-icon" src="assets/pencil.svg" alt="Pencil" width="20" height="20">
            Pencil
        </button>
        <button id="eraserBtn" class="tool-btn" data-tool="eraser" title="Eraser">
            <img class="tool-icon" src="assets/eraser.svg" alt="Eraser" width="20" height="20">
            Eraser
        </button>
    </aside>

    <div id="colorWindow" class="window color-window" aria-label="Color">
        <div class="color-panel">
            <label>Color <input id="colorPicker" type="color" value="#000000"></label>
        </div>
    </div>
</div>

<div id="previewWindow" class="window preview-window" aria-label="Preview window">
    <div class="preview-viewport">
        <canvas id="previewCanvas" class="preview-canvas" aria-label="Pixel preview"></canvas>
    </div>
    <div class="preview-scale-row">
        <label>Scale
            <select id="previewScale">
                <option value="1">1x</option>
                <option value="2">2x</option>
                <option value="4">4x</option>
                <option value="8">8x</option>
            </select>
        </label>
    </div>
</div>

<main class="workspace" data-pan-enabled data-zoom-enabled>

    <form id="setup" class="create-panel" aria-label="Workspace setup">
        <div class="create-row">
            <label>Width <input id="width" name="width" type="number" min="1" max="128" value="32"></label>
            <label>Height <input id="height" name="height" type="number" min="1" max="128" value="32"></label>
        </div>
        <div class="create-actions">
            <button type="submit">Create</button>
        </div>
    </form>

    <div class="canvas-stack hidden">
        <canvas id="backgroundCanvas" class="layer-canvas" aria-label="Background layer"></canvas>
        <canvas id="foregroundCanvas" class="layer-canvas" aria-label="Main artwork layer"></canvas>
        <canvas id="overlayCanvas" class="layer-canvas" aria-label="Preview/hover layer"></canvas>
    </div>

    <div id="pixelGrid" class="pixel-grid hidden"></div>
</main>

<div id="bottomBar" class="bottom-bar" role="status" aria-live="polite">
    <div class="bottom-bar-inner">
        <span id="coordsDisplay" class="coords">x:0 y:0</span>
    </div>
</div>

<script type="module" src="index.js" defer></script>
</body>
</html>